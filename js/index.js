const wordContainer=document.getElementById("word-container"),word=document.getElementById("word");let wordGender=word.getAttribute("data-gender");const buttonMale=document.getElementById("button-male"),buttonFemale=document.getElementById("button-female"),plusOne=document.getElementById("plus-one"),error=document.getElementById("error"),rightAnswers=document.getElementById("right-answers");let rightAnswersCounter=0,activeButton=!1;const jsonURL="https://juan-antonio-ledesma.github.io/spanish-word-gender/js/words.json";let allWords,copyAllWords={words:[]};const getWords=()=>{fetch(jsonURL).then(e=>e.json()).then(e=>{allWords=e,giveMeWord()}).catch(e=>console.error(e))},giveMeWord=()=>{var e=allWords.words.length;0===e&&(allWords=copyAllWords,copyAllWords={words:[]});e=Math.floor(Math.random()*e);word.textContent=allWords.words[e].word,wordGender=allWords.words[e].gender,error.classList.remove("swg__error--active","swg__error--mini"),word.classList.remove("swg__word--he","swg__word--she","swg__word--normal","swg__word--mini"),9<=word.textContent.length?(word.classList.add("swg__word--mini"),error.classList.add("swg__error--mini")):(word.classList.add("swg__word--normal"),error.classList.remove("swg__error--mini")),allWords.words.splice(e,1),copyAllWords.words.push(allWords.words[e]),setTimeout(()=>wordContainer.classList.remove("swg__word-container--hidden"),350),setTimeout(()=>activeButton=!1,500)};buttonMale.addEventListener("mousedown",e=>selectGender(e,"male"),!1),buttonFemale.addEventListener("mousedown",e=>selectGender(e,"female"),!1);const selectGender=(o,s)=>{if(!activeButton){activeButton=!0;let e=o.target;var r=e.getBoundingClientRect();let t=document.createElement("span");t.className="swg__button-ripple",t.style.height=t.style.width=Math.max(r.width,r.height)+"px",e.appendChild(t);var n=o.pageY-r.top-t.offsetHeight/2-document.body.scrollTop,r=o.pageX-r.left-t.offsetWidth/2-document.body.scrollLeft;t.style.top=n+"px",t.style.left=r+"px","male"===s?(word.classList.add("swg__word--he"),setTimeout(()=>buttonMale.removeChild(t),750)):(word.classList.add("swg__word--she"),setTimeout(()=>buttonFemale.removeChild(t),750)),"male"===s&&"m"===wordGender||"female"===s&&"f"===wordGender?(rightAnswersCounter++,plusOne.classList.add("swg__plus-one--active"),setTimeout(()=>plusOne.classList.remove("swg__plus-one--active"),500)):(rightAnswersCounter=0,setTimeout(()=>error.classList.add("swg__error--active"),500)),rightAnswers.textContent=rightAnswersCounter,rightAnswers.classList.add("swg__right-answers--active"),setTimeout(()=>rightAnswers.classList.remove("swg__right-answers--active"),500),setTimeout(()=>wordContainer.classList.add("swg__word-container--hidden"),1500),setTimeout(giveMeWord,2500)}};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("https://juan-antonio-ledesma.github.io/spanish-word-gender/sw.js").then(e=>{console.log("ServiceWorker registration successful with scope: ",e.scope)},e=>{console.log("ServiceWorker registration failed: ",e)})}),window.onload=()=>getWords();